<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIMAE</title>

    <!-- Favicon -->
    <link rel="icon" href="../images/favicon.ico" sizes="52x52" type="image/png">

    <!-- Style -->
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="brand">
            <a href="../index.html" class="logo">
                <span style="margin-left: 10px;">AIMAE</span>
            </a>
        </div>
        <div class="nav">
            <ul class="nav-ul">
                <li><a href="admin-users.html" class="link">회원관리</a></li>
                <li><a href="admin-orders.html" class="link">주문관리</a></li>
                <li><a href="admin-products.html" class="link">상품관리</a></li>
            </ul>
        </div>
    </div>

    <!-- Content -->
    <div class="admin-container">
        <h2 class="admin-title">관리자페이지</h2>
        <div style="border-bottom: 2px solid #8c52ff; margin-bottom: 2rem;"></div>

        <div class="admin-sections">
            <!-- 사이드바 -->
            <div class="admin-sidebar">
                <ul>
                    <li><a href="#" id="manageUsers">회원 관리</a></li>
                    <li><a href="#" id="manageOrders">주문 관리</a></li>
                    <li><a href="#" id="manageProducts">상품 관리</a></li>
                    <li><a href="#">로그아웃</a></li>
                </ul>
            </div>

            <!-- 메인 콘텐츠 -->
            <div class="admin-content">
                <!-- 회원 관리 -->
                <div id="usersSection">
                    <h3>회원 관리</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>회원번호</th>
                                <th>이름</th>
                                <th>이메일</th>
                                <th>가입일</th>
                                <th>등급</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="user : ${userList}" >
                                <td th:each="user : ${USER NUM}" >#001</td>
                                <td th:each="user : ${USER NAME}" >한찬희</td>
                                <td>support@aimae.com</td>
                                <td>2025-08-15</td>
                                <td>VVIP</td>
                                <td>
                                    <button class="edit-btn"><i class="fa-solid fa-pen"></i></button>
                                    <button class="delete-btn"><i class="fa-solid fa-trash"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- 주문 관리 -->
                <div id="ordersSection" style="display:none;">
                    <h3>주문 관리</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>주문번호</th>
                                <th>회원</th>
                                <th>상품명</th>
                                <th>날짜</th>
                                <th>상태</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#20250810</td>
                                <td>한찬희</td>
                                <td>AI 스마트 스피커</td>
                                <td>2025-08-10</td>
                                <td>배송중</td>
                                <td>
                                    <button class="update-btn"><i class="fa-solid fa-pen-to-square"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- 상품 관리 -->
                <div id="productsSection" style="display:none;">
                    <h3>상품 관리</h3>
                    <button class="add-product-btn" id="showAddProductForm"><i class="fa-solid fa-plus"></i> 상품 추가</button>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>상품번호</th>
                                <th>상품명</th>
                                <th>재고</th>
                                <th>가격</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody id="productTableBody">
                            <tr>
                                <td>#P001</td>
                                <td>AI 스마트 스피커</td>
                                <td>120</td>
                                <td>₩150,000</td>
                                <td>
                                    <button class="edit-btn"><i class="fa-solid fa-pen"></i></button>
                                    <button class="delete-btn"><i class="fa-solid fa-trash"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- 모달 -->
                    <div id="addProductModal" class="modal">
                        <div class="modal-content">
                            <span class="close-btn">&times;</span>
                            <h3><i class="fa-solid fa-box" style="color:#8c52ff;"></i> 상품 등록</h3>
                            <form id="addProductForm">
                                <label for="productName"><i class="fa-solid fa-tag" style="color:#8c52ff;"></i> 상품명</label>
                                <input type="text" id="productName" name="name" placeholder="상품명을 입력하세요" required>

                                <label for="productStock"><i class="fa-solid fa-layer-group" style="color:#8c52ff;"></i> 재고</label>
                                <input type="number" id="productStock" name="stock" placeholder="재고 수량" required>

                                <label for="productPrice"><i class="fa-solid fa-coins" style="color:#8c52ff;"></i> 가격</label>
                                <input type="number" id="productPrice" name="price" placeholder="가격 입력" required>

                                <label for="productDescription"><i class="fa-solid fa-align-left" style="color:#8c52ff;"></i> 상품 내용</label>
                                <textarea id="productDescription" name="description" placeholder="상품 내용을 입력하세요" style="width: 29.5rem; height: 5rem;" required></textarea>

                                <label for="productImage"><i class="fa-solid fa-image" style="color:#8c52ff;"></i> 상품 이미지</label>
                                <input type="file" id="productImage" name="image" accept="image/*" required>

                                <div class="form-buttons">
                                    <button type="submit" class="save-btn"><i class="fa-solid fa-floppy-disk"></i> 등록</button>
                                    <button type="button" class="cancel-btn" id="cancelAddProduct"><i class="fa-solid fa-xmark"></i> 취소</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4 style="margin-bottom: 22px;">회사 정보</h4>
                <p class="footer-p">주소 : 서울특별시 강남구</p>
                <p class="footer-p">전화 : 010-1234-5678</p>
                <p class="footer-p">이메일 : support@aimae.com</p>
            </div>
            <div class="footer-section">
                <h4>고객센터</h4>
                <ul>
                    <li class="footer-tag"><a href="#">FAQ</a></li>
                    <li class="footer-tag"><a href="#">반품/교환</a></li>
                    <li class="footer-tag"><a href="#">배송정보</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>소셜 미디어</h4>
                <div class="social-icons">
                    <a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.instagram.com/chan2hee1" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom"><p>&copy; 2025 AIMAE</p></div>
    </div>

    <!-- JS -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // 섹션 전환
        const sections = {manageUsers:'usersSection', manageOrders:'ordersSection', manageProducts:'productsSection'};
        Object.keys(sections).forEach(btnId=>{
            document.getElementById(btnId).addEventListener('click', e=>{
                e.preventDefault();
                Object.values(sections).forEach(sec=>document.getElementById(sec).style.display='none');
                document.getElementById(sections[btnId]).style.display='block';
            });
        });

        // 모달 제어
        const addBtn = document.getElementById('showAddProductForm');
        const modal = document.getElementById('addProductModal');
        const closeBtn = modal.querySelector('.close-btn');
        const cancelBtn = document.getElementById('cancelAddProduct');
        const form = document.getElementById('addProductForm');
        const tableBody = document.getElementById('productTableBody');

        addBtn.addEventListener('click', () => modal.style.display = 'flex');
        closeBtn.addEventListener('click', () => modal.style.display = 'none');
        cancelBtn.addEventListener('click', () => modal.style.display = 'none');
        window.addEventListener('click', e => { if(e.target === modal) modal.style.display = 'none'; });

        // 상품 등록
        form.addEventListener('submit', e => {
            e.preventDefault();
            const name = form.name.value;
            const stock = form.stock.value;
            const price = form.price.value;
            const row = document.createElement('tr');
            const newId = '#P' + (tableBody.children.length + 1).toString().padStart(3, '0');
            row.innerHTML = `<td>${newId}</td><td>${name}</td><td>${stock}</td><td>₩${parseInt(price).toLocaleString()}</td>
            <td>
                <button class="edit-btn"><i class="fa-solid fa-pen"></i></button>
                <button class="delete-btn"><i class="fa-solid fa-trash"></i></button>
            </td>`;
            tableBody.appendChild(row);
            modal.style.display = 'none';
            form.reset();
        });

        // 삭제 버튼 이벤트 (동적 생성 row 포함)
        tableBody.addEventListener('click', e => {
            if(e.target.closest('.delete-btn')) {
                const tr = e.target.closest('tr');
                tr.remove();
            }
        });
    });
    </script>
</body>
</html>
